{"version":3,"file":"index.js","sources":["../../src/_/_helpers.js","../../src/_/_ui.js","../../src/_/_cnt_medication_list.js","../../src/_/_i18n.js","../../src/medication-list/index.js"],"sourcesContent":["export const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\nexport const getPatientId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('id') ? urlParams.get('id') : \"\";\n    return id;\n}\n\nexport const getMedicationId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('id') ? urlParams.get('id') : \"\";\n    return id;\n}\n\nexport const getProductIdFromLink = () => {\n    \n    let url = new URL(window.location.href);\n    let id = url.pathname.trim().split('/').slice(-2)[0];\n    return id;\n}\n\nexport const getPageNumber = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPagination = (meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = 'no records to display'; return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    // console.log(pbc);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    // page 1 \n\n    // page 3\n    // 1 2\n\n    // page 5\n    // 2 3 4 .. \n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?'..':i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                let url = window.location.href.split('/page');\n                let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, urlF);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\nexport const formatStatus = (st) => {\n\n    st = parseInt(st); \n    switch(st){ \n      case 0: return '<div class=\"badge bg-warning text-dark fw-light\">Archive</div>';\n      case 1: return '<div class=\"badge bg-primary fw-light\">Active</div>';\n      case 3: return '<div class=\"badge bg-secondary fw-light\">Experimental</div>';\n      default: return '<div class=\"badge bg-secondary fw-light\">Drafts</div>';\n    }\n}\n\nexport const formatApplication = (application) => {\n\n    let html = '';\n    if(Array.isArray(application)) application.forEach(val => {\n\n        html += '<div class=\"badge bg-light text-dark fw-light me-1\">'+val+'</div>'\n    });\n\n    return html;\n}\n\nexport const formatPrice = (price) => {\n\n    const formatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: \"USD\", });\n    if(typeof(price) === 'undefined' || price == '') price = 0;\n    price = parseFloat(price);\n    price = formatter.format(price);\n    return price;\n}\n\nexport const formatTime = (timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n// parse backend error to frontend\nexport const parseApiError = (data) => {\n\n    // alert(data.reason);\n    // return; \n    switch(data.code){\n\n        // case 401: location.href=\"https://auth.kenzap.com/?redirectF.php?referral=\"+window.location.href; break;\n        default: alert(data.reason); break;\n    }\n}\n\n// init breadcrumbs navigation\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * Simulate a click event.\n * @public\n * @param {Element} elem  the element to simulate a click on\n */\n export const simulateClick = (elem) => {\n\t// Create our event (with options)\n\tvar evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\t// If cancelled, don't dispatch our event\n\tvar canceled = !elem.dispatchEvent(evt);\n};\n\n// nums only validation\nexport const numsOnly = (e, max) => {\n\n    // Only ASCII charactar in that range allowed \n    var ASCIICode = (e.which) ? e.which : e.keyCode \n    if (ASCIICode > 31 && ASCIICode != 46 && (ASCIICode < 48 || ASCIICode > 57)) \n    return false; \n\n    if(parseFloat(e.target.value)>max) \n    return false; \n\n    let dec = e.target.value.split('.');\n    if(dec.length>1)\n    if(dec[1].length>1)\n        return false;\n    \n    return true; \n}\n\nexport const onClick = (sel, fn) => {\n\n    // console.log('onClick');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\nexport const onChange = (sel, fn) => {\n\n    // console.log('onChange');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n// time elapsed since creation \nexport const timeConverterAgo = (now, time) => {\n\n    now = parseInt(now);\n    time = parseInt(time);\n    \n    // parse as elapsed time\n    let past = now - time;\n    if(past < 60) return 'moments ago';\n    if(past < 3600) return parseInt(past / 60) + ' minutes ago';\n    if(past < 86400) return parseInt(past / 60 / 24) + ' hours ago';\n\n    // process as normal date\n    var a = new Date(time * 1000);\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\n/**\n * @param string url\n * @return \n */\nexport const loadScript = (url, cb) => {\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\nexport const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}","// initiate header and related scripts\nexport const initHeader = (response) => {\n\n    if(response.header) localStorage.setItem('header', response.header);\n\n    let child = document.createElement('div');\n    child.innerHTML = localStorage.getItem('header');\n    child = child.firstChild;\n    document.body.appendChild(child);\n\n    // run header scripts\n    eval(document.querySelector(\"#k-script\").innerHTML);\n}\n\n// show loader\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n// hide loader\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n// hide loader\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n// categories input tags\nexport const simpleTags = (element) => {\n\n    if (!element) {\n        throw new Error(\"DOM Element is undifined! Please choose HTML target element.\")\n    }\n\n    let DOMParent = element\n    let DOMList\n    let DOMInput\n    let dataAttribute\n    let arrayOfList\n\n    function DOMCreate() {\n        let ul = document.createElement(\"ul\")\n        let input = document.createElement(\"input\")\n\n        input.setAttribute('placeholder', 'new entry');\n\n        DOMParent.appendChild(ul)\n        DOMParent.appendChild(input)\n\n        // first child is <ul>\n        DOMList = DOMParent.firstElementChild\n        // last child is <input>\n        DOMInput = DOMParent.lastElementChild\n    }\n\n    function DOMRender() {\n        // clear the entire <li> inside <ul>\n        DOMList.innerHTML = \"\"\n\n        // render each <li> to <ul>\n        arrayOfList.forEach((currentValue, index) => {\n\n            if (currentValue) {\n\n                let li = document.createElement(\"li\")\n                li.innerHTML = `${currentValue} <a>&times;</a>`\n                li.querySelector(\"a\").addEventListener(\"click\", function () {\n                    onDelete(index)\n                })\n\n                DOMList.appendChild(li)\n            }\n        })\n\n        setAttribute()\n    }\n\n    function onKeyUp() {\n        DOMInput.addEventListener(\"keyup\", function (event) {\n            let text = this.value.trim()\n\n            // check if ',' or 'enter' key was press\n            if (text.includes(\",\") || event.keyCode === 13) {\n                // check if empty text when ',' is remove\n                if (text.replace(\",\", \"\") !== \"\") {\n                    // push to array and remove ','\n                    arrayOfList.push(text.replace(\",\", \"\"))\n                }\n                // clear input\n                this.value = \"\"\n            }\n\n            DOMRender()\n        })\n    }\n\n    function onDelete(id) {\n        arrayOfList = arrayOfList.filter(function (currentValue, index) {\n            if (index === id) {\n                return false\n            }\n            return currentValue\n        })\n\n        DOMRender()\n    }\n\n    function getAttribute() {\n        dataAttribute = DOMParent.getAttribute(\"data-simple-tags\")\n        dataAttribute = dataAttribute.split(\",\")\n\n        // store array of data attribute in arrayOfList\n        arrayOfList = dataAttribute.map((currentValue) => {\n            return currentValue.trim()\n        })\n    }\n\n    function setAttribute() {\n        DOMParent.setAttribute(\"data-simple-tags\", arrayOfList.toString())\n    }\n\n    getAttribute()\n    DOMCreate()\n    DOMRender()\n    onKeyUp()\n}\n","// html product list loader\nexport const HTMLContent = (__) => {\n\n    return `\n    <div class=\"container\">\n\n        <div class=\"d-flex justify-content-between bd-highlight mb-3\">\n            <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n            <button class=\"btn btn-primary btn-add\" type=\"button\">${ __('Add drug') }</button>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-md-12 grid-margin grid-margin-lg-0 grid-margin-md-0 stretch-card\">\n                <div class=\"card border-white shadow-sm\">\n                    <div class=\"card-body\">\n                        <div class=\"no-footer\">\n                            <div class=\"row\">\n                                <div class=\"col-sm-12\">\n                                    <div class=\"table-responsive\">\n                                        <table\n                                            class=\"table table-hover table-borderless align-middle table-striped table-p-list\"\n                                            style=\"min-width: 800px;\">\n                                            <thead>\n\n                                            </thead>\n                                            <tbody>\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-md-5\">\n                                    <div class=\"dataTables_info mt-3 text-secondary fw-lighter\" id=\"listing_info\"\n                                        role=\"status\" aria-live=\"polite\">&nbsp;</div>\n                                </div>\n                                <div class=\"col-sm-12 col-md-7\">\n                                    <div class=\"dataTables_paginate paging_simple_numbers mt-3\" id=\"listing_paginate\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"modal\" tabindex=\"-1\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\"></h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n        <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\"\n            aria-atomic=\"true\" data-bs-delay=\"3000\">\n            <div class=\"d-flex\">\n                <div class=\"toast-body\"></div>\n                <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n                    aria-label=\"Close\"></button>\n            </div>\n        </div>\n    </div>\n    \n    `;\n\n}","// parse backend error to frontend\n// taking this structire for prototype http://i18njs.com/#language_files\nexport let i18n = {\n\n    state: {\n        locale: null,\n    },\n    init: (locale) => { \n    \n        i18n.state.locale = locale;\n    },\n    __: (text) => {\n\n        if(i18n.state.locale.values[text] === undefined) return text;\n\n        return i18n.state.locale.values[text];\n    }\n}","/*\n* cancer drug database \n* @link https://www.cancerresearchuk.org/about-cancer/cancer-in-general/treatment/cancer-drugs/drugs/nab-paclitaxel\n*/\n// js dependencies\nimport { getSiteId, getPageNumber, getPagination, simulateClick, getCookie, initBreadcrumbs, parseApiError, formatStatus, formatApplication, formatTime, onClick, onKeyUp, link } from \"../_/_helpers.js\"\nimport { showLoader, hideLoader, initFooter } from \"../_/_ui.js\"\nimport { HTMLContent } from \"../_/_cnt_medication_list.js\"\nimport { i18n } from \"../_/_i18n.js\"\n \n// init localization function\nconst __ = i18n.__;\n \n// public file storage\nconst CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n\n// where everything happens\nconst _this = {\n  \n    state:{\n        firstLoad: true,\n        limit: 10, // number of records to load per table\n    },\n    init: () => {\n         \n        _this.getData();\n    },\n    getData: () => {\n\n        // show loader during first load\n        if (_this.state.firstLoad) showLoader();\n\n        // search content\n        let s = document.querySelector('.search-cont input') ? document.querySelector('.search-cont input').value : '';\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'text/plain',\n                'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                'Kenzap-Token': getCookie('kenzap_token'),\n                'Kenzap-Sid': getSiteId(),\n            },\n            body: JSON.stringify({\n                query: {\n                    user: {\n                        type:       'authenticate',\n                        fields:     ['avatar'],\n                        token:      getCookie('kenzap_token')\n                    },\n                    locale: {\n                        type:       'locale',\n                        id:         getCookie('lang')\n                    },\n                    products: {\n                        type:       'find',\n                        key:        'ic-medication',\n                        fields:     ['_id', 'id', 'img', 'status', 'cats', 'title', 'updated'],\n                        limit:      _this.state.limit,\n                        offset:     s.length > 0 ? 0 : getPageNumber() * _this.state.limit - _this.state.limit,    // automatically calculate the offset of table pagination\n                        search:     {                                                           // if s is empty search query is ignored\n                                        field: 'title',\n                                        s: s\n                                    },\n                        sortby:     {\n                                        field: 'created',\n                                        order: 'DESC'\n                                    }\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            // hide UI loader\n            hideLoader();\n\n            if(response.success){\n\n                // initiate locale\n                i18n.init(response.locale);\n\n                // get core html content \n                _this.loadPageStructure();  \n\n                // render table\n                _this.renderPage(response);\n\n                // init header\n                _this.initHeader(response);\n\n                // bind content listeners\n                _this.initListeners();\n            \n                // init pagination\n                _this.initPagination(response);\n\n                // initiate footer\n                _this.initFooter();\n\n                // first load\n                _this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    },\n    initHeader: (response) => {\n\n        onClick('.nav-back', (e) => {\n\n            e.preventDefault();\n            let link = document.querySelector('.bc ol li:nth-last-child(2)').querySelector('a');\n            simulateClick(link);\n        });\n    },\n    authUser: (response) => {\n\n        if(response.user){\n            \n            if(response.user.success == true){\n\n                \n            }\n        }\n    },\n    loadPageStructure: () => {\n  \n        if(!_this.state.firstLoad) return;\n\n        // get core html content \n        document.querySelector('#contents').innerHTML = HTMLContent(__);\n    },\n    renderPage: (response) => {\n\n        if(_this.state.firstLoad){\n\n            // initiate breadcrumbs\n            initBreadcrumbs(\n                [\n                    { link: link('https://dashboard.kenzap.cloud'), text: __('Dashboard') },\n                    { link: link('/'), text: __('IC Portal') },\n                    { text: __('Medication list') }\n                ]\n            );\n\n            // init table header\n            document.querySelector(\".table thead\").innerHTML = `\n                <tr>\n                    <th>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#212529\" class=\"bi justify-content-end bi-search mb-1\" viewBox=\"0 0 16 16\" >\n                            <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"></path>\n                        </svg>\n                    </th>\n                    <th>\n                        <div class=\"search-cont input-group input-group-sm mb-0 justify-content-start\">     \n                            <input type=\"text\" placeholder=\"${ __('Search drugs') }\" class=\"form-control border-top-0 border-start-0 border-end-0 rounded-0\" aria-label=\"${ __('Search products') }\" aria-describedby=\"inputGroup-sizing-sm\" style=\"max-width: 200px;\">\n                        </div>\n                        <span>${ __(\"Title\") }</span>\n                    </th>\n                    <th>${ __(\"Status\") }</th>\n                    <th>${ __(\"Application\") }</th>\n                    <th>${ __(\"Updated\") }</th>\n                    <th></th>\n                </tr>`;\n\n        }\n\n        // no products in the list\n        if (response.products.length == 0) {\n\n            document.querySelector(\".table tbody\").innerHTML = `<tr><td colspan=\"6\">${ __(\"No drugs to display.\") }</td></tr>`;\n            // $( \"#loader\" ).fadeOut( \"fast\" );\n            // initListeners();\n            return;\n        }\n\n        let sid = getSiteId();\n\n        // generate website table\n        let list = '';\n        for (let i in response.products) {\n\n            let img = 'https://cdn.kenzap.com/loading.png';\n\n            if(typeof(response.products[i].img) === 'undefined') response.products[i].img = [];\n            if(response.products[i].img[0]) img = CDN + '/S'+sid+'/medication-'+response.products[i]._id+'-1-100x100.jpeg?'+response.products[i].updated;\n              \n            list += `\n                <tr>\n                    <td>\n                        <div class=\"timgc\">\n                            <a href=\"${ link('/medication-edit/?id='+response.products[i]._id) }\"><img src=\"${ img }\" data-srcset=\"${ img }\" class=\"img-fluid rounded\" alt=\"${ __(\"Product placeholder\") }\" srcset=\"${ img }\" ></a>\n                        </div>\n                    </td>\n                    <td class=\"destt\" style=\"max-width:250px;min-width:250px;\">\n                        <div class=\"mb-3 mt-3\"> \n                            <a class=\"text-body\" href=\"${ link('/medication-edit/?id='+response.products[i]._id) }\" >${ response.products[i].title }<i style=\"color:#9b9b9b;font-size:15px;margin-left:8px;\" title=\"${ __(\"Edit product\") }\" class=\"mdi mdi-pencil menu-icon edit-page\"></i></a>\n                        </div>\n                    </td>\n                    <td>\n                        <span>${ formatStatus(response.products[i].status) }</span>\n                    </td>\n                    <td style=\"max-width:180px;max-height:80px;\">\n                        <span>${ formatApplication(response.products[i].cats) }</span>\n                    </td>\n                    <td>\n                        <span>${ formatTime(response.products[i].updated) }</span>\n                    </td>\n                    <td> \n                        <a href=\"#\" data-id=\"${ response.products[i]._id }\" class=\"remove-product text-danger \">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n                                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n                                <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n                            </svg>\n                        </a>\n                        <i title=\"${ __(\"Remove this product\") }\" data-key=\"${ response.products[i].id }\" class=\"mdi mdi-trash-can-outline list-icon remove-product\"></i>\n                    </td>\n                </tr>`; \n        }\n\n        // provide result to the page\n        document.querySelector(\".table tbody\").innerHTML = list;\n    },\n    initListeners: () => {\n\n        // _this.state.firstLoad ? 'all' : 'partial'\n\n        // if(type == 'all'){\n\n        // }\n\n        // remove product\n        onClick('.remove-product', _this.listeners.removeProduct);\n\n        // search products activation\n        onClick('.table-p-list .bi-search', _this.listeners.searchProductsActivate);\n\n        // break here if initListeners is called more than once\n        if(!_this.state.firstLoad) return;\n\n        // add product modal\n        onClick('.btn-add', _this.addProduct);\n\n        // add product confirm\n        onClick('.btn-modal', _this.listeners.modalSuccessBtn);\n    },\n    listeners: {\n\n        removeProduct: (e) => {\n\n            e.preventDefault();\n\n            let c = confirm( __('Completely remove this product?') );\n\n            if(!c) return;\n  \n            // send data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'text/plain',\n                    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                    'Kenzap-Token': getCookie('kenzap_token'),\n                    'Kenzap-Sid': getSiteId(),\n                },\n                body: JSON.stringify({\n                    query: {\n                        product: {\n                            type:       'delete',\n                            key:        'ic-medication',   \n                            id:         e.currentTarget.dataset.id,\n                        }\n                    }\n                })\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    // modalCont.hide();\n\n                    _this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n                \n                console.log('Success:', response);\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n \n        },\n \n        searchProductsActivate: (e) => {\n\n            e.preventDefault();\n\n            document.querySelector('.table-p-list thead tr th:nth-child(2) span').style.display = 'none';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont').style.display = 'flex';\n            document.querySelector('.table-p-list thead tr th:nth-child(2) .search-cont input').focus();\n\n            // search products\n            onKeyUp('.table-p-list thead tr th:nth-child(2) .search-cont input', _this.listeners.searchProducts);\n        },\n \n        searchProducts: (e) => {\n\n            e.preventDefault();\n\n            _this.getData();\n\n            // console.log('search products ' +e.currentTarget.value);\n        },\n\n        modalSuccessBtn: (e) => {\n            \n            console.log('calling modalSuccessBtnFunc');\n            _this.listeners.modalSuccessBtnFunc(e);\n        },\n\n        modalSuccessBtnFunc: null\n    },\n    addProduct: (e) => {\n\n        let modal = document.querySelector(\".modal\");\n        let modalCont = new bootstrap.Modal(modal);\n        \n        modal.querySelector(\".modal-title\").innerHTML = __('Add Drug');\n        modal.querySelector(\".btn-primary\").innerHTML = __('Add');\n        modal.querySelector(\".btn-secondary\").innerHTML = __('Cancel');\n        let d = \"\"; \n        let title = '', sdesc = '', price = '';\n        let modalHTml = `\\\n        <div class=\"form-cont\">\\\n            <div class=\"form-group mb-3\">\\\n                <label for=\"p-title\" class=\"form-label\">${ __('Title') }</label>\\\n                <input type=\"text\" class=\"form-control\" id=\"p-title\" autocomplete=\"off\" placeholder=\"\" value=\"${ title }\">\\\n            </div>\\\n            <div class=\"form-group mb-3\">\\\n                <label for=\"p-sdesc\" class=\"form-label\">${ __('Short description') }</label>\\\n                <textarea type=\"text\" class=\"form-control\" id=\"p-sdesc\" autocomplete=\"off\" placeholder=\"\" rows=5></textarea>\\\n            </div>\\\n            <div class=\"form-group mb-3 d-none\">\\\n                <label for=\"p-price\" class=\"form-label\">${ __('Price') }</label>\\\n                <input type=\"text\" class=\"form-control\" id=\"p-price\" autocomplete=\"off\" placeholder=\"\" value=\"${ price }\">\\\n            </div>\\\n        </div>`;\n\n        modal.querySelector(\".modal-body\").innerHTML = modalHTml;\n\n        _this.listeners.modalSuccessBtnFunc = (e) => {\n\n            e.preventDefault();\n\n            let data = {};\n            data.title = modal.querySelector(\"#p-title\").value;\n            data.sdesc = modal.querySelector(\"#p-sdesc\").value;\n            // data.price = modal.querySelector(\"#p-price\").value;\n            data.status = \"0\";\n            data.img = [];\n            data.cats = [];\n\n            if(data.title.length<2){ alert(__('Please provide longer title')); return; }\n\n            // send data\n            fetch('https://api-v1.kenzap.cloud/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'text/plain',\n                    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                    'Kenzap-Token': getCookie('kenzap_token'),\n                    'Kenzap-Sid': getSiteId(),\n                },\n                body: JSON.stringify({\n                    query: {\n                        product: {\n                            type:       'create',\n                            key:        'ic-medication',   \n                            data:       data\n                        }\n                    }\n                }) \n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n\n                    // open product editing page\n                    window.location.href =  link(`/medication-edit/?id=${ response.product.id}`)\n\n                }else{\n\n                    parseApiError(response);\n                }\n                \n                console.log('Success:', response);\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n\n            console.log('saveProduct');\n\n        }\n\n        modalCont.show();\n\n        setTimeout( () => modal.querySelector(\"#p-title\").focus(),100 );\n\n    },\n    initPagination: (response) => {\n\n        getPagination(response.meta, _this.getData);\n    },\n    initFooter: () => {\n        \n        initFooter(__('Copyright © '+new Date().getFullYear()+' <a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">Kenzap</a>. All rights reserved.'), __('Kenzap Cloud Services - Dashboard'));\n    }\n}\n\n_this.init();"],"names":["link","slug","urlParams","URLSearchParams","window","location","search","sid","get","postfix","indexOf","getSiteId","id","getPageNumber","url","href","split","page","length","pageN","replace","parseInt","getPagination","meta","cb","document","querySelector","innerHTML","offset","limit","total_records","pbc","Math","ceil","style","display","html","i","page_link","querySelectorAll","l","addEventListener","e","p","ps","dataset","type","history","replaceState","urlF","title","preventDefault","formatStatus","st","formatApplication","application","Array","isArray","forEach","val","formatTime","timestamp","a","Date","months","year","getFullYear","month","getMonth","date","getDate","getHours","getMinutes","getSeconds","time","getCookie","cname","name","decodedCookie","decodeURIComponent","cookie","ca","c","charAt","substring","parseApiError","data","code","alert","reason","initBreadcrumbs","bc","text","simulateClick","elem","evt","MouseEvent","bubbles","cancelable","view","dispatchEvent","onClick","sel","fn","removeEventListener","onKeyUp","showLoader","el","hideLoader","initFooter","left","right","HTMLContent","__","i18n","state","locale","init","values","undefined","CDN","_this","firstLoad","getData","s","value","fetch","method","headers","body","JSON","stringify","query","user","fields","token","products","key","field","sortby","order","then","response","json","success","loadPageStructure","renderPage","initHeader","initListeners","initPagination","error","console","authUser","list","img","_id","updated","status","cats","listeners","removeProduct","searchProductsActivate","addProduct","modalSuccessBtn","confirm","product","currentTarget","log","focus","searchProducts","modalSuccessBtnFunc","modal","modalCont","bootstrap","Modal","price","modalHTml","sdesc","show","setTimeout"],"mappings":"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"}